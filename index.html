<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>chatMe</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">ğŸ”</div>
            <h1>PrivateChat</h1>
            <p class="tagline">Obrolan Tanpa Jejak. Enkripsi Total di Browser Anda.</p>
        </header>

        <main class="hero">
            <div class="feature-list">
                <div class="feature-item">
                    <span>ğŸ›¡ï¸</span>
                    <p>End-to-End Encryption (RSA-2048)</p>
                </div>
                <div class="feature-item">
                    <span>ğŸš«</span>
                    <p>Zero-Knowledge Server (Relay Only)</p>
                </div>
                <div class="feature-item">
                    <span>ğŸ’¨</span>
                    <p>Tanpa Database, Tanpa Jejak</p>
                </div>
            </div>
            
            <button id="startBtn" class="primary-button">Memeriksa Sesi...</button>
        </main>

        <footer>
            <p>&copy; 2024 PrivateChat. Semua kunci dibuat secara lokal.</p>
        </footer>
    </div>

    <script>
        const startBtn = document.getElementById('startBtn');
        const hasKey = localStorage.getItem('privateKey');

        // Update teks tombol berdasarkan status login
        if (hasKey) {
            startBtn.innerText = "Lanjutkan ke Obrolan";
        } else {
            startBtn.innerText = "Mulai Setup Privasi";
        }

        startBtn.onclick = () => {
            if (hasKey) {
                // Jika sudah punya kunci, langsung ke chat
                window.location.href = './chat/index.html';
            } else {
                // Jika belum, lakukan setup dulu
                window.location.href = './welcome/index.html';
            }
        };
    </script>
</body>
</html>
